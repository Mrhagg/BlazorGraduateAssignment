@page "/factions"
@inject HttpClient Http
@inject NavigationManager Navigation


    <h3>Choose your Faction</h3>

    @if (factions == null)
{
    <p>Laddar factions...</p>
}
else
{
    <div>
        @foreach (var faction in factions)
        {
            var url = $"/factions/{faction.Id}";
            <img src="@faction.ImageUrl" alt="@faction.Name"
                 style="width:150px; cursor:pointer; margin-right:20px"
                 @onclick="() => Navigation.NavigateTo(url)" />
        }

    </div>
}

@code {
    private List<FactionDto>? factions;

    protected override async Task OnInitializedAsync()
    {
        factions = await Http.GetFromJsonAsync<List<FactionDto>>("api/factions");
    }
}